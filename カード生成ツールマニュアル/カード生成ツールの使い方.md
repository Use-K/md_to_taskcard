# カード生成ツールの使い方

<!-- TOC -->

- 概要
- クイックスタート
- 出力の定義
- 入力の定義
- Markdown記述の制約１：設計に基づく制約
- Markdown記述の制約２：実装に基づく制約
- 詳細仕様について

<!-- /TOC -->

## 概要
- 現在のバージョン：0.1(2020/01/06)

本ツールは、指定のフォーマットで記述されたMarkdownファイルから、写真L判サイズのpdfを生成するツールです。

タスク一覧や簡易マニュアルを楽に印刷できる形にまとめられたら楽だなと思って作りました。

当マニュアルも、ツールに合わせて記述し生成しています。


## クイックスタート
- Markdownファイルを作ってください。
- 当該ファイルが存在するディレクトリ内でプログラムを実行してください。
- pdfが生成されます。

## 出力の定義
以下のフォーマットでカードを出力します。

- ヘッダー：カード更新日（自動反映）、**カード内タスクの実行しめきり**
- フッター：グループ内カード番号（自動反映）
    - 一つのMarkdownファイルを複数のカードグループとみなして処理を行います。
- コンテンツ：パンくずリスト（自動反映）、**見出し**、**内容**

## 入力の定義
入力するMarkdownは、以下のフォーマットで書いてください。

- 最初に「見出し１」（以下h1）と「目次」（単純リスト、TOC未対応）もしくは「概要」（文字のみ）がセットで来ること
    - 目次と概要両方書くのは、領域の都合上おすすめしません。
- 最初に来るh1とファイル名は同じであること
    - 同じでなくても問題なく出力されますが、パンくずリストがバグります。
- 以降は「見出し２」（以下h2）と「その内容」のセットが続くこと
    - h2を基準にカードを分割します。
    - あるh2から次のh2が出てくるまでに書かれているもの全てが「内容」として扱われます。

## Markdown記述の制約１：設計に基づく制約
ツールの設計思想に基づき、以下の制約が存在します。この部分については変更の予定はありません。

- **長文は書けません**。簡潔な記載を心がけてください。
    - デフォルトの使用ではベタ打ちで320文字が限度です。長くなる場合は記述を分割してください。
    - また、h2で分ける以外の改ページ方法は存在しません。記載可能量を超える場合、レイアウトが崩れます。
    - なお、ページサイズ自体はCSSの変更で記載可能量を増やせます。
- **見出し３レベル以降での分割は行いません**。
    - 見出し３が必要な場合はファイルを分割してください（後述）。

## Markdown記述の制約２：実装に基づく制約
以下については、実装に基づく制約＝課題です。今後の解消に向けて努力していきます。

- CSSがコード内に埋め込まれている
- pdfの出力順が無秩序
- ディレクトリの指定をコードで行う必要がある
- Markdown内の改行が反映されない

## 詳細仕様について
以下の内容は、別ファイルにて説明を行います。

- ファイル分割とパンくずリスト
- 各pythonファイルの解説
- 想定しているMarkdown作業環境